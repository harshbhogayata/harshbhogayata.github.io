<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hash Generator | Tools</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Roboto+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body class="bg-black text-gray-300">

    <main class="pt-32 pb-20 container mx-auto px-6 max-w-3xl">
        <a href="../tools.html" class="text-gray-500 hover:text-white mb-8 inline-block font-mono"><i
                class="fas fa-arrow-left mr-2"></i>Back to Tools</a>

        <div class="bg-gray-900 border border-gray-800 rounded-xl p-8 shadow-2xl">
            <h1 class="text-2xl font-bold text-white font-mono mb-6 flex items-center">
                <i class="fas fa-hashtag text-green-400 mr-3"></i>Crypto Hash Generator
            </h1>

            <div class="mb-8">
                <label class="block text-sm font-mono text-green-400 mb-2">Input Text</label>
                <textarea id="input-text" rows="3"
                    class="w-full bg-black border border-gray-700 rounded-lg p-4 text-white font-mono focus:border-green-500 focus:outline-none transition-colors"
                    placeholder="Type something to hash..."></textarea>
            </div>

            <div class="space-y-6">
                <!-- MD5 (Simulated via JS lib or placeholder if no lib, but we'll use SHA for native API) -->
                <!-- Note: Native Web Crypto API only supports SHA-1, SHA-256, SHA-384, SHA-512. MD5 requires a lib. We will stick to SHA for native support. -->

                <div>
                    <div class="flex justify-between mb-1">
                        <label class="text-xs font-bold text-gray-500">SHA-1</label>
                        <button onclick="copyToClipboard('sha1-out')"
                            class="text-xs text-green-400 hover:text-white">Copy</button>
                    </div>
                    <input type="text" id="sha1-out" readonly
                        class="w-full bg-black/50 border border-gray-800 rounded p-3 text-sm font-mono text-gray-400">
                </div>

                <div>
                    <div class="flex justify-between mb-1">
                        <label class="text-xs font-bold text-gray-500">SHA-256</label>
                        <button onclick="copyToClipboard('sha256-out')"
                            class="text-xs text-green-400 hover:text-white">Copy</button>
                    </div>
                    <input type="text" id="sha256-out" readonly
                        class="w-full bg-black/50 border border-gray-800 rounded p-3 text-sm font-mono text-gray-400">
                </div>

                <div>
                    <div class="flex justify-between mb-1">
                        <label class="text-xs font-bold text-gray-500">SHA-512</label>
                        <button onclick="copyToClipboard('sha512-out')"
                            class="text-xs text-green-400 hover:text-white">Copy</button>
                    </div>
                    <input type="text" id="sha512-out" readonly
                        class="w-full bg-black/50 border border-gray-800 rounded p-3 text-sm font-mono text-gray-400">
                </div>
            </div>
        </div>
    </main>

    <script src="../../js/main.js"></script>
    <script>
        const inputText = document.getElementById('input-text');

        async function generateHashes(text) {
            const msgBuffer = new TextEncoder().encode(text);

            // SHA-1
            const hashBuffer1 = await crypto.subtle.digest('SHA-1', msgBuffer);
            const hashArray1 = Array.from(new Uint8Array(hashBuffer1));
            const hashHex1 = hashArray1.map(b => b.toString(16).padStart(2, '0')).join('');
            document.getElementById('sha1-out').value = hashHex1;

            // SHA-256
            const hashBuffer256 = await crypto.subtle.digest('SHA-256', msgBuffer);
            const hashArray256 = Array.from(new Uint8Array(hashBuffer256));
            const hashHex256 = hashArray256.map(b => b.toString(16).padStart(2, '0')).join('');
            document.getElementById('sha256-out').value = hashHex256;

            // SHA-512
            const hashBuffer512 = await crypto.subtle.digest('SHA-512', msgBuffer);
            const hashArray512 = Array.from(new Uint8Array(hashBuffer512));
            const hashHex512 = hashArray512.map(b => b.toString(16).padStart(2, '0')).join('');
            document.getElementById('sha512-out').value = hashHex512;
        }

        inputText.addEventListener('input', (e) => {
            if (e.target.value) generateHashes(e.target.value);
            else {
                document.querySelectorAll('input[readonly]').forEach(el => el.value = '');
            }
        });

        function copyToClipboard(id) {
            const el = document.getElementById(id);
            el.select();
            document.execCommand('copy');
            // Visual feedback could be added here
        }
    </script>
</body>

</html>